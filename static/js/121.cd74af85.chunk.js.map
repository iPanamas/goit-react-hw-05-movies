{"version":3,"file":"static/js/121.cd74af85.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Form/Form.module.css?89ba","components/Form/Form.jsx","webpack://react-homework-template/./src/components/SearchMovie/SearchMovie.module.css?c852","components/SearchMovie/SearchMovie.jsx","pages/SearchMoviePage.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchInput\":\"Form_searchInput__X8+62\",\"searchButton\":\"Form_searchButton__nK6j9\",\"searchForm\":\"Form_searchForm__eyCyq\"};","// Styles\nimport s from './Form.module.css';\n\nconst Form = ({ handleChange, handleSubmit, searchQuery }) => {\n  return (\n    <form className={s.searchForm} onSubmit={handleSubmit}>\n      <label className={s.searchLabel}>\n        <input\n          name=\"query\"\n          value={searchQuery}\n          className={s.searchInput}\n          type=\"text\"\n          onChange={handleChange}\n        />\n      </label>\n      <button className={s.searchButton} type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\nexport default Form;\n","// extracted by mini-css-extract-plugin\nexport default {\"searchList\":\"SearchMovie_searchList__PBI0X\",\"searchItem\":\"SearchMovie_searchItem__NoZCV\",\"searchLink\":\"SearchMovie_searchLink__Upa88\"};","import { NavLink } from 'react-router-dom';\n\n// Styles\nimport s from './SearchMovie.module.css';\n\nconst SearchMovie = ({ movies, location }) => {\n  return (\n    <div className={s.search}>\n      <ul className={s.searchList}>\n        {movies.map(({ id, original_title }) => (\n          <li className={s.searchItem} key={id}>\n            <NavLink\n              className={s.searchLink}\n              to={`${id}`}\n              state={{ from: location }}\n            >\n              {original_title}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\nexport default SearchMovie;\n","import { useState, useEffect } from 'react';\nimport * as api from 'services/api';\nimport { useSearchParams, useLocation } from 'react-router-dom';\n\n// Toast notification\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport Form from 'components/Form/Form';\nimport SearchMovie from 'components/SearchMovie/SearchMovie';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst SearchMoviePage = () => {\n  const [searchQuery, setSearchQuery] = useState('');\n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState('idle');\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (query === null) {\n      return;\n    }\n\n    setStatus(Status.PENDING);\n\n    const fetchMovieByKeyWord = async () => {\n      try {\n        const getMovies = await api.getMovieByKeyWord(query);\n\n        if (getMovies.length === 0) {\n          setStatus(Status.IDLE);\n          return toast.warning(`${query} not found ü§∑‚Äç‚ôÇÔ∏è`);\n        }\n\n        if (getMovies.length > 1) {\n          setStatus(Status.RESOLVED);\n          setMovies(getMovies);\n          return toast.success(`Take are your movies üòä`);\n        }\n      } catch (error) {\n        setStatus(Status.REJECTED);\n        return toast.error(\n          `Whoops something went wrong, please try again later üôÖ‚Äç‚ôÇÔ∏è`\n        );\n      }\n    };\n    fetchMovieByKeyWord();\n  }, [query]);\n\n  const handleChange = event => {\n    setSearchQuery(event.currentTarget.value);\n  };\n\n  const handleSubmit = event => {\n    const form = event.currentTarget;\n    event.preventDefault();\n\n    if (searchQuery.trim() === '') {\n      return toast.info('Please enter movie name ü§¶‚Äç‚ôÇÔ∏è');\n    }\n\n    setSearchParams({ query: form.elements.query.value });\n    setSearchQuery('');\n  };\n\n  return (\n    <>\n      <Form\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        value={searchQuery}\n      />\n      {status === Status.RESOLVED && (\n        <SearchMovie movies={movies} location={location} />\n      )}\n    </>\n  );\n};\n\nexport default SearchMoviePage;\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = 'b5a4402f376b07e7f2b259d1d47ff1e6';\n\nexport const getTrendingMovies = async () => {\n  const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n  return response.data.results;\n};\n\nexport const getMoviesById = async moviesId => {\n  const response = await axios.get(`/movie/${moviesId}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const getMovieCast = async moviesId => {\n  const response = await axios.get(\n    `/movie/${moviesId}/credits?api_key=${API_KEY}`\n  );\n  return response.data.cast;\n};\n\nexport const getMovieReviews = async moviesId => {\n  const response = await axios.get(\n    `/movie/${moviesId}/reviews?api_key=${API_KEY}`\n  );\n  return response.data.results;\n};\n\nexport const getMovieByKeyWord = async searchQuery => {\n  const response = await axios.get(\n    `/search/movie/?api_key=${API_KEY}&query=${searchQuery}&language=en-US&page=1&include_adult=false`\n  );\n  return response.data.results;\n};\n"],"names":["handleChange","handleSubmit","searchQuery","className","s","onSubmit","name","value","type","onChange","movies","location","map","id","original_title","to","state","from","Status","useState","setSearchQuery","setMovies","status","setStatus","useSearchParams","searchParams","setSearchParams","query","get","useLocation","useEffect","fetchMovieByKeyWord","api","getMovies","length","toast","event","currentTarget","form","preventDefault","trim","elements","axios","API_KEY","getTrendingMovies","response","data","results","getMoviesById","moviesId","getMovieCast","cast","getMovieReviews","getMovieByKeyWord"],"sourceRoot":""}