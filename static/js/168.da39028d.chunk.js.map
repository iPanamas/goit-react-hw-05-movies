{"version":3,"file":"static/js/168.da39028d.chunk.js","mappings":"4PACA,G,QAAA,CAAgB,QAAU,yBAAyB,YAAc,6BAA6B,aAAe,8BAA8B,YAAc,6BAA6B,SAAW,0BAA0B,cAAgB,+BAA+B,cAAgB,iC,mBCYpRA,EACE,OADFA,EAEK,UAFLA,EAGM,WAHNA,EAIM,WAsDZ,EAnDgB,WACd,IAAQC,GAAaC,EAAAA,EAAAA,MAAbD,SACR,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,QAArC,eAAOG,EAAP,KAAeC,EAAf,KA0BA,OAxBAC,EAAAA,EAAAA,YAAU,WACRD,EAAUP,GAEV,IAAMS,EAAiB,mCAAG,6GAEKC,EAAAA,GAAoBT,GAFzB,UAIM,KAFtBU,EAFgB,QAILC,OAJK,uBAKpBL,EAAUP,GALU,0BAStBO,EAAUP,GACVK,EAAWM,GAVW,yDAYtBJ,EAAUP,GAZY,kBAafa,EAAAA,GAAAA,MAAA,uFAbe,0DAAH,qDAkBvBJ,MACC,CAACR,KAGF,iBAAKa,UAAWC,EAAAA,QAAhB,UACGT,IAAWN,IACV,eAAIc,UAAWC,EAAAA,aAAf,kEAKDT,IAAWN,IACV,eAAIc,UAAWC,EAAAA,YAAf,SACGX,EAAQY,KAAI,gBAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,QAAX,OACX,gBAAIJ,UAAWC,EAAAA,YAAf,WACE,gBAAID,UAAWC,EAAAA,aAAf,qBAAwCE,MACxC,cAAGH,UAAWC,EAAAA,YAAd,SAA8BG,MAFGD,a,0MC3D/CE,IAAAA,SAAAA,QAAyB,+BAEzB,IAAMC,EAAU,mCAEHC,EAAiB,mCAAG,oGACRF,IAAAA,IAAA,sCAAyCC,IADjC,cACzBE,EADyB,yBAExBA,EAASC,KAAKC,SAFU,2CAAH,qDAKjBC,EAAa,mCAAG,WAAMxB,GAAN,uFACJkB,IAAAA,IAAA,iBAAoBlB,EAApB,oBAAwCmB,IADpC,cACrBE,EADqB,yBAEpBA,EAASC,MAFW,2CAAH,sDAKbG,EAAY,mCAAG,WAAMzB,GAAN,uFACHkB,IAAAA,IAAA,iBACXlB,EADW,4BACiBmB,IAFd,cACpBE,EADoB,yBAInBA,EAASC,KAAKI,MAJK,2CAAH,sDAOZC,EAAe,mCAAG,WAAM3B,GAAN,uFACNkB,IAAAA,IAAA,iBACXlB,EADW,4BACiBmB,IAFX,cACvBE,EADuB,yBAItBA,EAASC,KAAKC,SAJQ,2CAAH,sDAOfK,EAAiB,mCAAG,WAAMC,GAAN,uFACRX,IAAAA,IAAA,iCACKC,EADL,kBACsBU,EADtB,+CADQ,cACzBR,EADyB,yBAIxBA,EAASC,KAAKC,SAJU,2CAAH","sources":["webpack://react-homework-template/./src/components/Reviews/Reviews.module.css?7248","components/Reviews/Reviews.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"reviews\":\"Reviews_reviews__n3fdK\",\"reviewsItem\":\"Reviews_reviewsItem__Su53A\",\"reviewsTitle\":\"Reviews_reviewsTitle__mxqAS\",\"reviewsText\":\"Reviews_reviewsText__pIre-\",\"notFound\":\"Reviews_notFound__FzYY5\",\"notFoundTitle\":\"Reviews_notFoundTitle__OsTCn\",\"notFoundImage\":\"Reviews_notFoundImage__c-C3a\"};","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\n\n// Toast notification\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\n// Styles\nimport s from './Reviews.module.css';\n\n// API\nimport * as api from 'services/api';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst Reviews = () => {\n  const { moviesId } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    setStatus(Status.PENDING);\n\n    const fetchMovieReviews = async () => {\n      try {\n        const movieReviews = await api.getMovieReviews(moviesId);\n\n        if (movieReviews.length === 0) {\n          setStatus(Status.IDLE);\n          return;\n        }\n\n        setStatus(Status.RESOLVED);\n        setReviews(movieReviews);\n      } catch (error) {\n        setStatus(Status.REJECTED);\n        return toast.error(\n          `Whoops something went wrong, please try again later üôÖ‚Äç‚ôÇÔ∏è`\n        );\n      }\n    };\n    fetchMovieReviews();\n  }, [moviesId]);\n\n  return (\n    <div className={s.reviews}>\n      {status === Status.IDLE && (\n        <h1 className={s.reviewsTitle}>\n          We dont have any reviews for this movie üòî\n        </h1>\n      )}\n\n      {status === Status.RESOLVED && (\n        <ul className={s.reviewsList}>\n          {reviews.map(({ author, content }) => (\n            <li className={s.reviewsItem} key={author}>\n              <h2 className={s.reviewsTitle}>Author: {author}</h2>\n              <p className={s.reviewsText}>{content}</p>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n};\n\nexport default Reviews;\n","import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = 'b5a4402f376b07e7f2b259d1d47ff1e6';\n\nexport const getTrendingMovies = async () => {\n  const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n  return response.data.results;\n};\n\nexport const getMoviesById = async moviesId => {\n  const response = await axios.get(`/movie/${moviesId}?api_key=${API_KEY}`);\n  return response.data;\n};\n\nexport const getMovieCast = async moviesId => {\n  const response = await axios.get(\n    `/movie/${moviesId}/credits?api_key=${API_KEY}`\n  );\n  return response.data.cast;\n};\n\nexport const getMovieReviews = async moviesId => {\n  const response = await axios.get(\n    `/movie/${moviesId}/reviews?api_key=${API_KEY}`\n  );\n  return response.data.results;\n};\n\nexport const getMovieByKeyWord = async searchQuery => {\n  const response = await axios.get(\n    `/search/movie/?api_key=${API_KEY}&query=${searchQuery}&language=en-US&page=1&include_adult=false`\n  );\n  return response.data.results;\n};\n"],"names":["Status","moviesId","useParams","useState","reviews","setReviews","status","setStatus","useEffect","fetchMovieReviews","api","movieReviews","length","toast","className","s","map","author","content","axios","API_KEY","getTrendingMovies","response","data","results","getMoviesById","getMovieCast","cast","getMovieReviews","getMovieByKeyWord","searchQuery"],"sourceRoot":""}